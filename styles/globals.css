@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Professional Color System - Light Mode */
  --tc-bg: 255 255 255;           /* Pure white background */
  --tc-surface: 250 251 252;      /* Subtle off-white for cards */
  --tc-surface-elevated: 255 255 255; /* Elevated surface */
  --tc-text: 15 23 42;            /* Slate-900 - deep, readable text */
  --tc-text-secondary: 51 65 85;   /* Slate-700 - secondary text */
  --tc-muted: 100 116 139;         /* Slate-500 - muted text */
  --tc-border: 226 232 240;        /* Slate-200 - subtle borders */
  --tc-border-strong: 203 213 225; /* Slate-300 - stronger borders */
  
  /* Professional Blue Primary System */
  --tc-primary: 37 99 235;         /* Blue-600 - primary brand color */
  --tc-primary-hover: 29 78 216;   /* Blue-700 - hover state */
  --tc-primary-light: 219 234 254; /* Blue-100 - light backgrounds */
  --tc-primary-contrast: 255 255 255; /* White text on primary */
  
  /* Professional Success/Error States */
  --tc-success: 34 197 94;         /* Green-500 */
  --tc-success-light: 220 252 231; /* Green-100 */
  --tc-warning: 245 158 11;        /* Amber-500 */
  --tc-warning-light: 254 243 199; /* Amber-100 */
  --tc-error: 239 68 68;           /* Red-500 */
  --tc-error-light: 254 226 226;   /* Red-100 */
  
  --tc-accent: 37 99 235;          /* Same as primary for consistency */
  --tc-accent-contrast: 255 255 255;
  --tc-elev: 15 23 42;             /* Shadow color base */

  /* Professional Typography */
  --tc-font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  --tc-font-display: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  --tc-h1: 42;
  --tc-h2: 36;
  --tc-h3: 30;
  --tc-h4: 24;
  --tc-body: 16;
  --tc-small: 14;
  --tc-leading: 1.5;
  --tc-leading-tight: 1.25;
  --tc-leading-relaxed: 1.625;

  /* Modern Border Radius */
  --tc-radius-xs: 4px;
  --tc-radius-sm: 6px;
  --tc-radius-md: 8px;
  --tc-radius-lg: 12px;
  --tc-radius-xl: 16px;
  --tc-radius-2xl: 20px;
  --tc-radius-3xl: 24px;

  /* Professional Shadows */
  --tc-shadow-xs: 0 1px 2px 0 rgba(var(--tc-elev), 0.05);
  --tc-shadow-sm: 0 1px 3px 0 rgba(var(--tc-elev), 0.1), 0 1px 2px 0 rgba(var(--tc-elev), 0.06);
  --tc-shadow: 0 4px 6px -1px rgba(var(--tc-elev), 0.1), 0 2px 4px -1px rgba(var(--tc-elev), 0.06);
  --tc-shadow-lg: 0 10px 15px -3px rgba(var(--tc-elev), 0.1), 0 4px 6px -2px rgba(var(--tc-elev), 0.05);
  --tc-shadow-xl: 0 20px 25px -5px rgba(var(--tc-elev), 0.1), 0 10px 10px -5px rgba(var(--tc-elev), 0.04);

  /* Professional Animations */
  --tc-dur-instant: 0ms;
  --tc-dur-fast: 150ms;
  --tc-dur: 250ms;
  --tc-dur-slow: 350ms;
  --tc-dur-slower: 500ms;
  --tc-ease: cubic-bezier(0.4, 0, 0.2, 1);
  --tc-ease-out: cubic-bezier(0, 0, 0.2, 1);
  --tc-ease-in: cubic-bezier(0.4, 0, 1, 1);
  --tc-ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);

  /* Z-Index Scale */
  --tc-z-base: 0;
  --tc-z-dropdown: 10;
  --tc-z-sticky: 20;
  --tc-z-tooltip: 30;
  --tc-z-modal: 40;
  --tc-z-toast: 50;
  --tc-z-overlay: 60;
}

.dark {
  /* Professional Dark Mode - Optimized for readability */
  --tc-bg: 9 9 11;                /* Zinc-950 - deep but not pure black */
  --tc-surface: 24 24 27;         /* Zinc-900 - card surfaces */
  --tc-surface-elevated: 39 39 42; /* Zinc-800 - elevated surfaces */
  --tc-text: 250 250 250;         /* Almost white - excellent readability */
  --tc-text-secondary: 212 212 216; /* Zinc-300 - secondary text */
  --tc-muted: 161 161 170;        /* Zinc-400 - muted text */
  --tc-border: 39 39 42;          /* Zinc-800 - subtle borders */
  --tc-border-strong: 63 63 70;   /* Zinc-700 - stronger borders */
  
  /* Professional Blue Primary System - Dark Optimized */
  --tc-primary: 59 130 246;       /* Blue-500 - more vibrant for dark */
  --tc-primary-hover: 37 99 235;  /* Blue-600 - hover state */
  --tc-primary-light: 30 58 138;  /* Blue-900 - dark backgrounds */
  --tc-primary-contrast: 255 255 255; /* White text on primary */
  
  /* Professional Success/Error States - Dark Optimized */
  --tc-success: 34 197 94;        /* Green-500 */
  --tc-success-light: 20 83 45;   /* Green-800 */
  --tc-warning: 245 158 11;       /* Amber-500 */
  --tc-warning-light: 146 64 14;  /* Amber-800 */
  --tc-error: 239 68 68;          /* Red-500 */
  --tc-error-light: 153 27 27;    /* Red-800 */
  
  --tc-accent: 59 130 246;        /* Same as primary */
  --tc-accent-contrast: 255 255 255;
  --tc-elev: 0 0 0;               /* Pure black shadows in dark mode */

  /* Dark Mode Shadows - Subtle highlights */
  --tc-shadow-xs: 0 0 0 1px rgba(255, 255, 255, 0.05);
  --tc-shadow-sm: 0 0 0 1px rgba(255, 255, 255, 0.05), 0 1px 2px 0 rgba(0, 0, 0, 0.4);
  --tc-shadow: 0 0 0 1px rgba(255, 255, 255, 0.05), 0 4px 6px -1px rgba(0, 0, 0, 0.4);
  --tc-shadow-lg: 0 0 0 1px rgba(255, 255, 255, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.4);
  --tc-shadow-xl: 0 0 0 1px rgba(255, 255, 255, 0.05), 0 20px 25px -5px rgba(0, 0, 0, 0.4);
}

/* Resume Template Dark Mode Styles */
.resume-text {
  color: var(--tc-text);
}

.resume-muted {
  color: rgb(102, 102, 102); /* #666 - readable in both light and dark for PDF */
}

.resume-skill-tag {
  background-color: rgb(240, 240, 240); /* #f0f0f0 - readable in light mode */
}

.dark .resume-skill-tag {
  background-color: rgb(55, 65, 81); /* gray-700 for dark mode */
  color: rgb(243, 244, 246); /* gray-100 for dark mode text */
}

.resume-summary-bg {
  background-color: rgb(248, 249, 250); /* #f8f9fa for light mode */
}

.dark .resume-summary-bg {
  background-color: rgb(55, 65, 81); /* gray-700 for dark mode */
}

.resume-no-data {
  color: rgb(102, 102, 102); /* #666 - consistent for PDF */
  text-align: center;
  margin-top: 100px;
  font-size: 10px;
}

/* Base Styles */
html {
  font-feature-settings: 'cv11', 'ss01';
  font-variation-settings: 'opsz' 32;
  scroll-behavior: smooth;
}

body {
  @apply bg-bg text-text antialiased;
  font-family: var(--tc-font-sans);
  font-size: calc(var(--tc-body) * 1px);
  line-height: var(--tc-leading);
}

/* Professional Animation Base */
* {
  transition-timing-function: var(--tc-ease);
}

/* Focus States */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-zinc-900;
}

@layer components {
  /* Layout System */
  .tc-container { 
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8; 
  }
  .tc-container-narrow { 
    @apply max-w-4xl mx-auto px-4 sm:px-6 lg:px-8; 
  }
  .tc-page { 
    @apply min-h-[calc(100vh-80px)] py-8 sm:py-12; 
  }

  /* Professional Card System */
  .tc-card { 
    @apply bg-surface text-text border border-border rounded-xl shadow-sm p-6;
    transition: all var(--tc-dur) var(--tc-ease);
  }
  .tc-card-elevated { 
    @apply bg-surface-elevated text-text border border-border rounded-xl shadow-lg p-8;
    transition: all var(--tc-dur) var(--tc-ease);
  }
  .tc-card-hover:hover {
    @apply shadow-xl -translate-y-1;
    transform: translateY(-2px);
  }
  .tc-paper { 
    @apply bg-white dark:bg-surface text-text border border-border rounded-xl shadow-sm p-6 md:p-8; 
  }

  /* Professional Button System */
  .btn {
    @apply inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus-ring disabled:opacity-50 disabled:cursor-not-allowed;
    font-size: calc(var(--tc-body) * 1px);
  }
  
  .btn-sm {
    @apply px-3 py-2 text-sm;
  }
  
  .btn-md {
    @apply px-4 py-2.5 text-base;
  }
  
  .btn-lg {
    @apply px-6 py-3.5 text-lg;
  }
  
  .btn-xl {
    @apply px-8 py-4 text-xl;
  }

  /* Button Variants */
  .btn-primary {
    background: rgb(var(--tc-primary));
    color: rgb(var(--tc-primary-contrast));
    @apply shadow-sm;
  }
  .btn-primary:hover {
    background: rgb(var(--tc-primary-hover));
    @apply shadow-lg -translate-y-0.5;
  }
  
  .btn-secondary {
    @apply bg-surface text-text border border-border-strong shadow-sm;
  }
  .btn-secondary:hover {
    @apply bg-surface-elevated shadow-lg -translate-y-0.5;
  }
  
  .btn-ghost {
    @apply text-text hover:bg-surface;
  }
  
  .btn-outline {
    @apply border border-primary text-primary bg-transparent;
  }
  .btn-outline:hover {
    background: rgb(var(--tc-primary));
    color: rgb(var(--tc-primary-contrast));
  }

  /* Professional Form Elements */
  .form-input {
    @apply w-full px-4 py-3 bg-surface text-text border border-border rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all duration-250;
  }
  .form-input:focus {
    transform: translateY(-1px);
    box-shadow: var(--tc-shadow-lg);
  }
  
  .form-label {
    @apply block text-sm font-medium text-text mb-2;
  }
  
  .form-error {
    @apply text-error text-sm mt-1;
  }

  /* Professional Checkbox Styling */
  input[type="checkbox"] {
    @apply w-4 h-4 rounded border-2 border-border bg-surface text-primary focus:ring-2 focus:ring-primary/20 transition-all duration-200;
    appearance: none;
    background-image: none;
  }
  
  input[type="checkbox"]:checked {
    background-color: rgb(var(--tc-primary));
    border-color: rgb(var(--tc-primary));
    background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='m13.854 3.646-7.5 7.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6 10.293l7.146-7.147a.5.5 0 0 1 .708.708z'/%3e%3c/svg%3e");
    background-size: 100% 100%;
    background-position: center;
    background-repeat: no-repeat;
  }
  
  input[type="checkbox"]:focus {
    @apply ring-2 ring-primary/20;
  }

  /* Professional Animations & Interactions */
  .animate-slide-up {
    animation: slideUp 0.5s var(--tc-ease-out);
  }
  
  .animate-fade-in {
    animation: fadeIn 0.4s var(--tc-ease-out);
  }
  
  .animate-scale-in {
    animation: scaleIn 0.3s var(--tc-ease-out);
  }
  
  .animate-bounce-subtle {
    animation: bounceSubtle 2s infinite;
  }

  /* Loading States */
  .loading-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* Hover Lift Effect */
  .hover-lift {
    transition: transform var(--tc-dur) var(--tc-ease), box-shadow var(--tc-dur) var(--tc-ease);
  }
  .hover-lift:hover {
    transform: translateY(-2px);
    box-shadow: var(--tc-shadow-lg);
  }

  /* Interactive States */
  .interactive {
    transition: all var(--tc-dur) var(--tc-ease);
  }
  .interactive:hover {
    transform: translateY(-1px);
  }
  .interactive:active {
    transform: translateY(0);
  }

  /* Headings & text */
  .tc-h1 { @apply text-[42px] sm:text-[48px] font-bold tracking-tight text-text leading-tight; }
  .tc-h2 { @apply text-3xl font-bold tracking-tight text-text; }
  .tc-muted { @apply text-muted; }

  /* Buttons */
  .tc-btn { @apply inline-flex items-center justify-center h-11 px-5 rounded-xl font-medium transition ease-out; }
  .tc-btn-primary { @apply tc-btn bg-accent text-accent-contrast hover:opacity-90 shadow; }
  .tc-btn-quiet { @apply tc-btn bg-surface border border-border text-text hover:bg-white/50 dark:hover:bg-white/5; }
  .tc-btn-link { @apply text-accent hover:underline; }

  /* Inputs */
  .tc-input { @apply h-11 w-full rounded-xl border border-border bg-surface text-text placeholder:tc-muted focus:outline-none focus:ring-2 focus:ring-accent/60 focus:border-accent; }
  .tc-textarea { @apply tc-input h-48 leading-6; }

  /* Sticky action bar */
  .tc-sticky { @apply sticky bottom-0 z-[var(--tc-z-sticky)] backdrop-blur bg-bg/80 border-t border-border px-4 py-3; }

  /* Chips */
  .tc-chip { @apply inline-flex items-center gap-2 rounded-full border border-border px-3 py-1.5 text-sm bg-surface hover:border-accent/60 transition; }
  .tc-chip-on { @apply border-accent bg-accent/10 text-text; }

  /* Skeletons */
  @keyframes tc-shimmer { 0%{background-position:-200% 0} 100%{background-position:200% 0} }
  .tc-skeleton { @apply rounded-xl; background: linear-gradient(90deg, rgba(0,0,0,.06) 25%, rgba(0,0,0,.1) 37%, rgba(0,0,0,.06) 63%); background-size: 400% 100%; animation: tc-shimmer 1.2s infinite linear; }
  .dark .tc-skeleton { background: linear-gradient(90deg, rgba(255,255,255,.06) 25%, rgba(255,255,255,.1) 37%, rgba(255,255,255,.06) 63%); }

  /* Animations */
  @keyframes tc-fade { from{opacity:0; transform:translateY(4px)} to{opacity:1; transform:none} }
  .tc-animate-in { animation: tc-fade var(--tc-dur) var(--tc-ease) both; }

  /* Tooltip: avoid pure black/white; use soft dark + token text */
  .tc-tip { @apply pointer-events-none absolute z-50 rounded-lg text-xs px-2 py-1 shadow-sm; background: rgba(28,30,32,.85); color: rgb(var(--tc-text)); }
}

/* Professional Keyframe Animations */
@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes bounceSubtle {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* Professional Scrollbar */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: rgb(var(--tc-surface));
}

::-webkit-scrollbar-thumb {
  background: rgb(var(--tc-muted));
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgb(var(--tc-primary));
}

/* Selection Styling */
::selection {
  background: rgba(var(--tc-primary), 0.2);
  color: rgb(var(--tc-text));
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Legacy styles kept for compatibility */
/* Simple global styles */
body { margin: 0; }
.app-container { min-height: 100vh; }
.container { max-width: 768px; margin: 0 auto; padding: 1rem; }
.header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; }
.button { padding: 0.5rem 1rem; background: rgb(var(--tc-accent)); color: rgb(var(--tc-accent-contrast)); border: none; border-radius: 4px; cursor: pointer; }
.button:disabled { opacity: 0.6; cursor: not-allowed; }
.button-outline { background: transparent; color: rgb(var(--tc-accent)); border: 1px solid rgb(var(--tc-accent)); }
.button-subtle { background: rgb(var(--tc-surface)); color: rgb(var(--tc-text)); border: 1px solid rgb(var(--tc-border)); }
.full-width { width: 100%; }
input[type='file'], input[type='text'], textarea { width: 100%; padding: 0.5rem; border: 1px solid rgb(var(--tc-border)); border-radius: 4px; background: rgb(var(--tc-surface)); color: rgb(var(--tc-text)); }
.card { border: 1px solid rgb(var(--tc-border)); background: rgb(var(--tc-surface)); border-radius: 8px; margin-bottom: 1rem; color: rgb(var(--tc-text)); }
.card-header { padding: 1rem; border-bottom: 1px solid rgb(var(--tc-border)); }
.card-title { margin: 0; font-size: 1.125rem; }
.card-content { padding: 1rem; }
.helper-row { display: flex; justify-content: space-between; font-size: 0.75rem; margin-top: 0.25rem; }
.grid-two { display: grid; gap: 1rem; }
@media (min-width: 640px) { .grid-two { grid-template-columns: repeat(2, 1fr); } }
.tabs { display: flex; gap: 1rem; border-bottom: 1px solid rgb(var(--tc-border)); }
.tab { padding: 0.5rem 1rem; border-bottom: 2px solid transparent; cursor: pointer; }
.tab.active { border-color: rgb(var(--tc-accent)); color: rgb(var(--tc-accent)); }
.actions { display: flex; justify-content: flex-end; gap: 0.5rem; border-bottom: 1px solid rgb(var(--tc-border)); background: rgb(var(--tc-surface)); position: sticky; top: 0; padding: 0.5rem; }
pre { max-height: 70vh; overflow: auto; padding: 1rem; background: #f9f9f9; font-family: monospace; font-size: 0.875rem; }
.toast { position: fixed; bottom: 1rem; left: 50%; transform: translateX(-50%); background: rgba(28,30,32,.9); color: rgb(var(--tc-text)); padding: 0.5rem 1rem; border-radius: 8px; border: 1px solid rgb(var(--tc-border)); }
.skeleton { background: #ddd; border-radius: 4px; height: 1rem; animation: pulse 1.5s infinite ease-in-out; }
@keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.4; } 100% { opacity: 1; } }
.error { color: #dc2626; font-size: 0.875rem; }
/* font-face definitions and use remain */
@font-face { font-family: "InterLocal"; src: url("/fonts/Inter-Regular.woff2") format("woff2"); font-weight: 400; font-style: normal; font-display: block; }
@font-face { font-family: "InterLocal"; src: url("/fonts/Inter-Medium.woff2") format("woff2"); font-weight: 500; font-style: normal; font-display: block; }
@font-face { font-family: "InterLocal"; src: url("/fonts/Inter-SemiBold.woff2") format("woff2"); font-weight: 600; font-style: normal; font-display: block; }
@font-face { font-family: "InterLocal"; src: url("/fonts/Inter-Bold.woff2") format("woff2"); font-weight: 700; font-style: normal; font-display: block; }
html, body { font-family: "InterLocal", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }
* { font-synthesis: none; }

/* ==== Layout polish, toolbar, menu ==== */
:root{
  --ink:#0F172A;
  --muted:#64748B;
  --rule:#E2E8F0;
  --accent:#00C9A7;
  --accent-2:#A3FF6F;
  --bg:#FFFFFF;
  --danger:#DC2626;
  --border:var(--rule);
  --radius:14px;
  --space:16px;
  --space-sm:10px;
  --space-1:4px;
  --space-2:8px;
  --space-3:12px;
  --space-4:16px;
  --space-5:24px;
  --space-6:32px;
}
/* Ensure legacy section also follows theme tokens */
html,body{ background: rgb(var(--tc-bg)); color: rgb(var(--tc-text)); }

/* Sticky actions bar */
.toolbar{
  position:sticky; bottom:12px; inset-inline:0;
  display:flex; justify-content:space-between; gap:16px;
  background:rgba(255,255,255,.8); backdrop-filter:blur(8px);
  border:1px solid rgb(var(--tc-border)); border-radius:var(--radius);
  padding:12px; margin:18px auto 0; max-width:1360px;
}
.group{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }

.btn{
  appearance:none; border:1px solid rgb(var(--tc-border)); background: rgb(var(--tc-surface)); color: rgb(var(--tc-text));
  padding:10px 14px; border-radius:999px; font-size:14px; line-height:1; cursor:pointer;
}
.btn:hover{ border-color: rgb(var(--tc-border)); filter: brightness(.98); }
.btn-primary{ background: rgb(var(--tc-accent)); color: rgb(var(--tc-accent-contrast)); border-color: rgb(var(--tc-accent)); }
.btn-primary:hover{ filter:brightness(.95); }
.btn-ghost{ background:transparent; border:0; color:var(--muted); }

.select{ border:1px solid rgb(var(--tc-border)); border-radius:10px; padding:8px 10px; font-size:14px; background: rgb(var(--tc-surface)); color: rgb(var(--tc-text)); }

/* Dropdown menu (for DOCX) */
.menu{ position:relative; }
.menu-btn{ appearance:none; border:1px solid rgb(var(--tc-border)); background: rgb(var(--tc-surface)); color: rgb(var(--tc-text));
  padding:10px 14px; border-radius:999px; font-size:14px; line-height:1; cursor:pointer;
}
.menu-btn:hover{ border-color: rgb(var(--tc-border)); }
.menu-pop{
  position:absolute; right:0; top:calc(100% + 6px); z-index:20;
  background: rgb(var(--tc-surface)); border:1px solid rgb(var(--tc-border)); border-radius:12px;
  box-shadow:0 8px 24px rgba(0,0,0,.12); min-width:220px; padding:6px; display:none;
}
.menu.open .menu-pop{ display:block; }
.menu-item{
  width:100%; text-align:left; padding:10px 12px; border-radius:10px; font-size:14px;
  background:transparent; border:0; cursor:pointer; color: rgb(var(--tc-text));
}
.menu-item:hover{ background: rgb(0 0 0 / .04); }
.dark .menu-item:hover{ background: rgb(255 255 255 / .06); }

/* ==== /Layout ==== */
/* ==== Side-by-side fit-to-width A4 previews ==== */
.shell{ max-width: 1360px; margin:24px auto 48px; padding:0 20px; } /* widen to reduce outer deadspace */
.workspace{
  display:grid; align-items:start; gap:24px;
  grid-template-columns: 1fr 1fr; /* keep two panes */
}
.pane{
  background: rgb(var(--tc-surface)); border:1px solid rgb(var(--tc-border));
  border-radius:var(--radius); box-shadow:0 2px 12px rgba(0,0,0,.06);
  padding:14px; min-width:0;
}

/* Simple viewport showing scaled A4 paper */
.preview{
  border-radius:12px;
  overflow:hidden;
  position: relative; /* anchor pager overlay */
  max-width:794px;
  margin:0 auto;
}
/* Base A4 paper dimensions */
.paper{
  width:210mm;
  height:297mm;
  box-sizing:border-box;
  background: rgb(var(--tc-surface));
  overflow:hidden;
  padding:1in;
  position:relative;
}

.print-mode .paper{
  box-shadow:none;
  border:0;
  border-radius:0;
}

@media print {
  .paper { page-break-after: always; }
  .paper:last-child { page-break-after: auto; }
}


.avoid-break {
  break-inside: avoid;
  page-break-inside: avoid;
}

html.print-mode,
body.print-mode {
  background: rgb(var(--tc-bg));
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
}

.cover-letter{
  padding:1in;
}

/* Pager controls */
.pager-btn{
  width:32px;
  height:32px;
  border:1px solid rgb(var(--tc-border));
  border-radius:6px;
  background: rgb(var(--tc-surface));
  display:grid;
  place-items:center;
  font-size:20px;
  line-height:1;
  cursor:pointer;
  position:absolute;
  top:50%;
  transform:translateY(-50%);
}

.pager-left{ left:8px; }
.pager-right{ right:8px; }

.pager-btn:disabled{
  opacity:0.5;
  cursor:default;
}

.pageIndicator{
  position:absolute;
  bottom:8px;
  left:50%;
  transform:translateX(-50%);
  font-size:12px;
  color: rgb(var(--tc-muted));
  background: rgb(var(--tc-surface) / 0.92);
  border:1px solid rgb(var(--tc-border));
  border-radius:6px;
  padding:2px 6px;
}

/* Slightly shorter viewport on small screens */
@media (max-width: 1200px){ .shell{ max-width: 1100px; } }
@media (max-width: 1024px){
  .workspace{ grid-template-columns: 1fr; } /* still stacks on small screens only */
}
/* ==== /Side-by-side fit-to-width A4 previews ==== */

@page {
  size: A4;
  margin: 0;
}

/* When printing or when we build HTML for Puppeteer, kill preview scaling */
@media print {
  /* Nuke any transform-based scaling inside the exported subtree */
  #print-root [style*="transform"] {
    transform: none !important;
  }
  /* Ensure our A4 preview containers render at true size */
  #print-root .a4-outer {
    width: 794px !important;
    height: 1123px !important;
    overflow: visible !important;
  }
  #print-root .a4-scope {
    width: 794px !important;
    height: 1123px !important;
  }
  /* Avoid global max-width rules collapsing content */
  #print-root .a4-scope img,
  #print-root .a4-scope canvas,
  #print-root .a4-scope svg,
  #print-root .a4-scope iframe,
  #print-root .a4-scope video {
    max-width: none !important;
    width: auto;
    height: auto;
  }
}

@media print {
  /* Hide app chrome/controls in print */
  [data-app-chrome], .no-print { display: none !important; }

  /* Disable preview scaling in print */
  #print-root [style*="transform"] { transform: none !important; }
  #print-root [style*="zoom"] { zoom: 1 !important; }

  /* Ensure inner A4 box remains true size; your preview already uses .a4-scope */
  #print-root .a4-scope { width: 794px !important; height: 1123px !important; }
  #print-root .a4-scope img, #print-root .a4-scope canvas, #print-root .a4-scope svg,
  #print-root .a4-scope iframe, #print-root .a4-scope video {
    max-width: none !important; width: auto; height: auto;
  }
}
