@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --tc-bg: 250 250 250;
  --tc-surface: 255 255 255;
  --tc-text: 17 24 39;
  --tc-muted: 113 113 122;
  --tc-border: 228 228 231;
  --tc-accent: 20 184 166;
  --tc-accent-contrast: 255 255 255;
  --tc-elev: 0 0 0;

  --tc-font-sans: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji';
  --tc-h1: 32;
  --tc-h2: 24;
  --tc-body: 15;
  --tc-leading: 1.6;

  --tc-radius-sm: 8px;
  --tc-radius-md: 12px;
  --tc-radius-lg: 16px;
  --tc-radius-xl: 20px;
  --tc-radius-2xl: 24px;

  --tc-shadow-sm: 0 1px 2px rgba(var(--tc-elev), .06);
  --tc-shadow:    0 2px 12px rgba(var(--tc-elev), .08);
  --tc-shadow-lg: 0 10px 30px rgba(var(--tc-elev), .12);

  --tc-dur-fast: 150ms;
  --tc-dur: 200ms;
  --tc-dur-slow: 300ms;
  --tc-ease: cubic-bezier(.2,.7,.2,1);
  --tc-ease-out: cubic-bezier(.16,1,.3,1);

  --tc-z-sticky: 50;
  --tc-z-toast: 60;
  --tc-z-overlay: 70;
}

.dark {
  --tc-bg: 10 10 11;
  --tc-surface: 21 23 24;
  --tc-text: 229 231 235;
  --tc-muted: 161 161 170;
  --tc-border: 39 39 42;
  --tc-accent: 45 212 191;
  --tc-accent-contrast: 10 10 11;
}

body {
  @apply bg-bg text-text font-sans;
}

@layer components {
  /* Layout */
  .tc-container { @apply max-w-5xl mx-auto px-4 sm:px-6 lg:px-8; }
  .tc-page { @apply min-h-[calc(100vh-64px)] py-6 sm:py-8; }

  /* Card + Paper */
  .tc-card { @apply bg-surface text-text border border-border rounded-2xl shadow p-6; }
  .tc-paper { @apply bg-white dark:bg-surface text-text border border-border rounded-2xl shadow-sm p-6 md:p-8; }

  /* Headings & text */
  .tc-h1 { @apply text-[32px] sm:text-[36px] font-bold tracking-tight text-text; }
  .tc-h2 { @apply text-2xl font-semibold tracking-tight text-text; }
  .tc-muted { @apply text-muted; }

  /* Buttons */
  .tc-btn { @apply inline-flex items-center justify-center h-11 px-5 rounded-xl font-medium transition ease-out; }
  .tc-btn-primary { @apply tc-btn bg-accent text-accent-contrast hover:opacity-90 shadow; }
  .tc-btn-quiet { @apply tc-btn bg-surface border border-border text-text hover:bg-white/50 dark:hover:bg-white/5; }
  .tc-btn-link { @apply text-accent hover:underline; }

  /* Inputs */
  .tc-input { @apply h-11 w-full rounded-xl border border-border bg-surface text-text placeholder:tc-muted focus:outline-none focus:ring-2 focus:ring-accent/60 focus:border-accent; }
  .tc-textarea { @apply tc-input h-48 leading-6; }

  /* Sticky action bar */
  .tc-sticky { @apply sticky bottom-0 z-[var(--tc-z-sticky)] backdrop-blur bg-bg/80 border-t border-border px-4 py-3; }

  /* Chips */
  .tc-chip { @apply inline-flex items-center gap-2 rounded-full border border-border px-3 py-1.5 text-sm bg-surface hover:border-accent/60 transition; }
  .tc-chip-on { @apply border-accent bg-accent/10 text-text; }

  /* Skeletons */
  @keyframes tc-shimmer { 0%{background-position:-200% 0} 100%{background-position:200% 0} }
  .tc-skeleton { @apply rounded-xl; background: linear-gradient(90deg, rgba(0,0,0,.06) 25%, rgba(0,0,0,.1) 37%, rgba(0,0,0,.06) 63%); background-size: 400% 100%; animation: tc-shimmer 1.2s infinite linear; }
  .dark .tc-skeleton { background: linear-gradient(90deg, rgba(255,255,255,.06) 25%, rgba(255,255,255,.1) 37%, rgba(255,255,255,.06) 63%); }

  /* Animations */
  @keyframes tc-fade { from{opacity:0; transform:translateY(4px)} to{opacity:1; transform:none} }
  .tc-animate-in { animation: tc-fade var(--tc-dur) var(--tc-ease) both; }

  /* Tooltip */
  .tc-tip { @apply pointer-events-none absolute z-50 rounded-lg bg-black/80 text-white text-xs px-2 py-1 shadow-sm; }
}

/* Legacy styles kept for compatibility */
/* Simple global styles */
body { margin: 0; background: #f7f7f7; color: #333; }
.app-container { min-height: 100vh; }
.container { max-width: 768px; margin: 0 auto; padding: 1rem; }
.header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; }
.button { padding: 0.5rem 1rem; background: #2563eb; color: #fff; border: none; border-radius: 4px; cursor: pointer; }
.button:disabled { opacity: 0.6; cursor: not-allowed; }
.button-outline { background: transparent; color: #2563eb; border: 1px solid #2563eb; }
.button-subtle { background: #eee; color: #333; border: 1px solid #eee; }
.full-width { width: 100%; }
input[type='file'], input[type='text'], textarea { width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px; }
.card { border: 1px solid #ccc; background: #fff; border-radius: 8px; margin-bottom: 1rem; }
.card-header { padding: 1rem; border-bottom: 1px solid #eee; }
.card-title { margin: 0; font-size: 1.125rem; }
.card-content { padding: 1rem; }
.helper-row { display: flex; justify-content: space-between; font-size: 0.75rem; margin-top: 0.25rem; }
.grid-two { display: grid; gap: 1rem; }
@media (min-width: 640px) { .grid-two { grid-template-columns: repeat(2, 1fr); } }
.tabs { display: flex; gap: 1rem; border-bottom: 1px solid #ccc; }
.tab { padding: 0.5rem 1rem; border-bottom: 2px solid transparent; cursor: pointer; }
.tab.active { border-color: #2563eb; color: #2563eb; }
.actions { display: flex; justify-content: flex-end; gap: 0.5rem; border-bottom: 1px solid #ccc; background: #fff; position: sticky; top: 0; padding: 0.5rem; }
pre { max-height: 70vh; overflow: auto; padding: 1rem; background: #f9f9f9; font-family: monospace; font-size: 0.875rem; }
.toast { position: fixed; bottom: 1rem; left: 50%; transform: translateX(-50%); background: #333; color: #fff; padding: 0.5rem 1rem; border-radius: 4px; }
.skeleton { background: #ddd; border-radius: 4px; height: 1rem; animation: pulse 1.5s infinite ease-in-out; }
@keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.4; } 100% { opacity: 1; } }
.error { color: #dc2626; font-size: 0.875rem; }
/* font-face definitions and use remain */
@font-face { font-family: "InterLocal"; src: url("/fonts/Inter-Regular.woff2") format("woff2"); font-weight: 400; font-style: normal; font-display: block; }
@font-face { font-family: "InterLocal"; src: url("/fonts/Inter-Medium.woff2") format("woff2"); font-weight: 500; font-style: normal; font-display: block; }
@font-face { font-family: "InterLocal"; src: url("/fonts/Inter-SemiBold.woff2") format("woff2"); font-weight: 600; font-style: normal; font-display: block; }
@font-face { font-family: "InterLocal"; src: url("/fonts/Inter-Bold.woff2") format("woff2"); font-weight: 700; font-style: normal; font-display: block; }
html, body { font-family: "InterLocal", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }
* { font-synthesis: none; }

/* ==== Layout polish, toolbar, menu ==== */
:root{
  --ink:#111827; --muted:#6b7280; --border:#e5e7eb; --bg:#f7f7f9; --accent:#0ea5a6;
  --radius:14px; --space:16px; --space-sm:10px;
}
html,body{ background: var(--bg); color: var(--ink); }

/* Sticky actions bar */
.toolbar{
  position:sticky; bottom:12px; inset-inline:0;
  display:flex; justify-content:space-between; gap:16px;
  background:rgba(255,255,255,.8); backdrop-filter:blur(8px);
  border:1px solid var(--border); border-radius:var(--radius);
  padding:12px; margin:18px auto 0; max-width:1360px;
}
.group{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }

.btn{
  appearance:none; border:1px solid var(--border); background:#fff; color:var(--ink);
  padding:10px 14px; border-radius:999px; font-size:14px; line-height:1; cursor:pointer;
}
.btn:hover{ border-color:#d1d5db; }
.btn-primary{ background:var(--accent); color:#fff; border-color:var(--accent); }
.btn-primary:hover{ filter:brightness(.95); }
.btn-ghost{ background:transparent; border:0; color:var(--muted); }

.select{ border:1px solid var(--border); border-radius:10px; padding:8px 10px; font-size:14px; background:#fff; }

/* Dropdown menu (for DOCX) */
.menu{ position:relative; }
.menu-btn{ appearance:none; border:1px solid var(--border); background:#fff; color:var(--ink);
  padding:10px 14px; border-radius:999px; font-size:14px; line-height:1; cursor:pointer;
}
.menu-btn:hover{ border-color:#d1d5db; }
.menu-pop{
  position:absolute; right:0; top:calc(100% + 6px); z-index:20;
  background:#fff; border:1px solid var(--border); border-radius:12px;
  box-shadow:0 8px 24px rgba(0,0,0,.12); min-width:220px; padding:6px; display:none;
}
.menu.open .menu-pop{ display:block; }
.menu-item{
  width:100%; text-align:left; padding:10px 12px; border-radius:10px; font-size:14px;
  background:transparent; border:0; cursor:pointer; color:var(--ink);
}
.menu-item:hover{ background:#f3f4f6; }

/* ==== /Layout ==== */
/* ==== Side-by-side fit-to-width A4 previews ==== */
.shell{ max-width: 1360px; margin:24px auto 120px; padding:0 20px; } /* widen to reduce outer deadspace */
.workspace{
  display:grid; align-items:start; gap:24px;
  grid-template-columns: 1fr 1fr; /* keep two panes */
}
.pane{
  background:#fff; border:1px solid var(--border);
  border-radius:var(--radius); box-shadow:0 2px 12px rgba(0,0,0,.06);
  padding:14px; min-width:0;
}

/* Simple viewport showing scaled A4 paper */
.preview{
  border-radius:12px;
  overflow:visible;
  cursor: zoom-in;
}
/* Base A4 paper dimensions */
.paper{
  width:794px;
  min-height:1123px;
  background:#fff;
  border:1px solid var(--border);
  border-radius:8px;
  box-shadow:0 1px 3px rgba(0,0,0,0.08);
  overflow:hidden;
}

.cover-letter{
  padding:48px;
}
/* scale wrapper â€“ we scale the .paper via CSS var set by PageViewport */
.pv-scale .paper{
  transform: scale(var(--pv-scale, 1));
  transform-origin: top center;
  margin: 0 auto; /* center the scaled page */
}

/* Slightly shorter viewport on small screens */
@media (max-width: 1200px){ .shell{ max-width: 1100px; } }
@media (max-width: 1024px){
  .workspace{ grid-template-columns: 1fr; } /* still stacks on small screens only */
}
/* ==== /Side-by-side fit-to-width A4 previews ==== */
